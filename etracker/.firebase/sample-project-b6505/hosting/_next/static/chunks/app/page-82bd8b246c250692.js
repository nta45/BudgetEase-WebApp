(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3089:function(e,t,s){Promise.resolve().then(s.bind(s,7845))},7845:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(7437);let l=e=>Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}).format(e);var a=s(4219),r=e=>{let{show:t,onClose:s,expense:r}=e;return(0,n.jsxs)(a.Z,{show:t,onClose:s,children:[(0,n.jsx)("h1",{children:"Expense Detail View"}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-6",children:r.items.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between px-6",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"font-semibold",children:e.description})}),(0,n.jsx)("div",{children:(0,n.jsx)("small",{className:"font-light text-[1em]",children:l(e.amount)})})]},e.id))})]})},c=s(2265),i=function(e){let{expense:t}=e,[s,a]=(0,c.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(r,{show:s,onClose:a,expense:t}),(0,n.jsx)("button",{onClick:()=>{a(!0)},children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 bg-slate-500 rounded-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-[2em] h-[2em] rounded-full",style:{backgroundColor:t.color}}),(0,n.jsx)("h4",{className:"capitalize mx+[32px] px-16",children:t.title})]}),(0,n.jsx)("small",{children:l(t.amount)})]})})]})},o=s(4314),d=s(7105),x=function(e){let{show:t,onClose:s}=e,r=(0,c.useRef)(),i=(0,c.useRef)(),{income:x,addIncomeItem:m,removeIncomeItem:u}=(0,c.useContext)(o.G),p=async e=>{e.preventDefault();let t={amount:+r.current.value,description:i.current.value,createdOn:new Date};try{await m(t),i.current.value="",r.current.value=""}catch(e){console.error("Error adding income: ",e)}},h=async e=>{try{await u(e)}catch(e){console.error("Error deleting income: ",e)}};return t&&(0,n.jsxs)(a.Z,{show:t,onClose:s,children:[(0,n.jsxs)("form",{onSubmit:p,className:"flex flex-col gap-4 px-6",children:[(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"description",className:"mr-2 text-l",children:"Income Description:"}),(0,n.jsx)("input",{className:"px-4 py-2 bg-slate-500 rounded-xl text-l",type:"text",ref:i,placeholder:"Enter Income Description",required:!0})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"amount",className:"mr-2 text-l",children:"Income Amount:"}),(0,n.jsx)("input",{className:"px-4 py-2 bg-slate-500 rounded-xl text-l",type:"number",ref:r,min:.01,step:.01,placeholder:"Enter Income Amount",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-add items-center m-5",children:"Add Income"})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 mt-6",children:[(0,n.jsx)("h3",{className:"text-2xl px-6",children:"Income History"}),x.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between px-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold",children:e.description}),(0,n.jsxs)("p",{className:"text-xs",children:[e.createdOn.toDateString(),", at ",e.createdOn.toLocaleTimeString()]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("small",{className:"font-light text-[1em]",children:l(e.amount)}),(0,n.jsx)("button",{onClick:()=>{h(e.id)},children:(0,n.jsx)(d.Z,{})})]})]},e.id))]})})]})},m=s(920),u=function(e){let{show:t,onClose:s}=e,[l,r]=(0,c.useState)(""),[i,d]=(0,c.useState)(""),[x,u]=(0,c.useState)(null),{expenses:p}=(0,c.useContext)(o.G),h=async e=>{e.preventDefault();let t=p.find(e=>e.id===x);console.log({color:t.color,total:+t.total+ +l,title:t.title,items:[...t.items,{description:i,amount:+l,createdOn:new Date,id:(0,m.Z)()}]}),r(""),d(""),u(null),s()};return t&&(0,n.jsx)(a.Z,{show:t,onClose:s,children:(0,n.jsxs)("form",{className:"flex flex-col gap-4 px-6",children:[(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"description",className:"mr-2 text-l",children:"Expense Description:"}),(0,n.jsx)("input",{className:"px-4 py-2 bg-slate-500 rounded-xl text-l",type:"text",placeholder:"Enter Expense Description",value:i,onChange:e=>{d(e.target.value)},required:!0})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"amount",className:"mr-2 text-l",children:"Expense Amount:"}),(0,n.jsx)("input",{className:"px-4 py-2 bg-slate-500 rounded-xl text-l",type:"number",min:.01,step:.01,value:l,onChange:e=>{r(e.target.value)},placeholder:"Enter Expense Amount",required:!0})]}),l>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:"category",className:"mr-2 text-l",children:"Expense Category:"}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-6 max-w-fit",children:p.map(e=>(0,n.jsx)("button",{onClick:()=>{u(e.id)},style:{boxShadow:e.id===x?"1px 1px 4px":"none"}}))})]}),l>0&&x&&(0,n.jsx)("button",{onClick:h,type:"submit",className:"btn btn-add items-center m-5",children:"Add Expense"})]})})},p=s(6463);function h(){(0,p.useRouter)();let[e,t]=(0,c.useState)(!1),[s,a]=(0,c.useState)(!1),[r,d]=(0,c.useState)(0),{expenses:m,income:h}=(0,c.useContext)(o.G);return(0,c.useEffect)(()=>{d(h.reduce((e,t)=>e+t.amount,0)-m.reduce((e,t)=>e+t.amount,0))},[m,h]),(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(x,{show:e,onClose:t}),s&&(0,n.jsx)(u,{show:s,onClose:a}),(0,n.jsxs)("main",{className:"my-2 py-2 container mx-auto flex flex-col",children:[(0,n.jsxs)("section",{className:"flex flex-col gap-2 py-5 items-center",children:[(0,n.jsx)("small",{className:"text-3xl",children:" Current Balance"}),(0,n.jsx)("h2",{className:"text-5xl",children:l(r)}),(0,n.jsxs)("section",{className:"flex items-center gap-5 mt-4",children:[(0,n.jsx)("button",{onClick:()=>{a(!0)},className:"btn btn-add",children:"+ Add Expense"}),(0,n.jsx)("button",{onClick:()=>{t(!0)},className:"btn btn-add",children:"+ Add Income"})]})]}),(0,n.jsx)("hr",{className:"w-full border-1 border-slate-500 my-6"}),(0,n.jsxs)("section",{className:"flex items-center mx-auto gap-5",children:[(0,n.jsxs)("section",{className:"py-2",children:[(0,n.jsx)("h3",{className:"text-2xl px-6",children:"Nathan's Expenses"}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-6 max-w-fit",children:m.map(e=>(0,n.jsx)(i,{expense:e},e.id))})]}),(0,n.jsxs)("section",{className:"py-2",children:[(0,n.jsx)("h3",{className:"text-2xl px-6",children:"Nathan's Incomes"}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-6",children:m.map(e=>(0,n.jsx)(i,{expense:e},e.id))})]})]})]})]})}},4219:function(e,t,s){"use strict";var n=s(7437);t.Z=function(e){let{show:t,onClose:s,children:l}=e;return(0,n.jsxs)("div",{style:{transform:t?"translateX(0%)":"translateX(-200%)"},className:"absolute top-0 left-0 w-full h-full backdrop-blur-sm z-10 transition-all duration-500",children:[" ",(0,n.jsxs)("div",{className:" container mx-auto max-w-2xl max-h-fit rounded-3xl bg-slate-600 py-6 px-4 my-10 pb-10",children:[(0,n.jsxs)("section",{className:"flex justify-between items-center gap-5",children:[(0,n.jsx)("h3",{className:"text-2xl px-4 py-4 border rounded-2xl bg-slate-700 border-transparent",children:t.name}),(0,n.jsx)("button",{onClick:()=>{s(!1)},className:" text-xl w-[10] h-[10] m-2 right-1 font-bold px-4 text-center border border-transparent rounded-2xl bg-slate-700",children:"❌"})]}),(0,n.jsx)("div",{className:"flex flex-col gap-4 mt-6",children:l})]})]})}},4314:function(e,t,s){"use strict";s.d(t,{G:function(){return d},Z:function(){return x}});var n=s(7437),l=s(2265),a=s(5236);s(7175);var r=s(9842),c=s(5735);let i=(0,a.ZF)({apiKey:"AIzaSyA71-VMlojv2bH2gRg1vp0MrvLt62y0RdU",authDomain:"sample-project-b6505.firebaseapp.com",databaseURL:"https://sample-project-b6505-default-rtdb.firebaseio.com",projectId:"sample-project-b6505",storageBucket:"sample-project-b6505.appspot.com",messagingSenderId:"707674305404",appId:"1:707674305404:web:1f730f084f624a79c6eaf9",measurementId:"G-S6NZFEYW3H"}),o=(0,r.ad)(i);(0,c.v0)(i);let d=(0,l.createContext)({expenses:[],incomes:[],addExpense:async()=>{},deleteExpense:async()=>{},addIncome:async()=>{},deleteIncome:async()=>{}});function x(e){let{children:t}=e,[s,a]=(0,l.useState)([]),[c,i]=(0,l.useState)([]),x=async e=>{let t=(0,r.hJ)(o,"income");try{let s=await (0,r.ET)(t,e);a(t=>[...t,{id:s.id,...e}])}catch(e){throw console.error("Error adding document: ",e),e}},m=async e=>{let t=(0,r.JU)(o,"income",e);try{await (0,r.oe)(t),a(t=>t.filter(t=>t.id!==e))}catch(e){throw console.error("Error deleting document: ",e),e}};return(0,l.useEffect)(()=>{let e=async()=>{let e=(0,r.hJ)(o,"expenses");i((await (0,r.PL)(e)).docs.map(e=>({id:e.id,...e.data()})))};(async()=>{let e=(0,r.hJ)(o,"income");a((await (0,r.PL)(e)).docs.map(e=>({id:e.id,...e.data(),createdOn:new Date(e.data().createdOn.toMillis())})))})(),e()},[]),(0,n.jsx)(d.Provider,{value:{income:s,expenses:c,addIncomeItem:x,removeIncomeItem:m},children:t})}}},function(e){e.O(0,[358,863,319,975,971,23,744],function(){return e(e.s=3089)}),_N_E=e.O()}]);